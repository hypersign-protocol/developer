(function(t){function e(e){for(var i,s,o=e[0],c=e[1],l=e[2],d=0,h=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&h.push(n[s][0]),n[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(h.length)h.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],i=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(i=!1)}i&&(r.splice(e--,1),t=s(s.s=a[0]))}return t}var i={},n={app:0},r=[];function s(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=i,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(a,i,function(e){return t[e]}.bind(null,i));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;r.push([9,"chunk-vendors"]),a()})({0:function(t,e){},"07bb":function(t,e,a){},1:function(t,e){},10:function(t,e){},11:function(t,e){},12:function(t,e){},13:function(t,e){},14:function(t,e){},15:function(t,e){},16:function(t,e){},17:function(t,e){},18:function(t,e){},19:function(t,e){},"19f3":function(t,e,a){"use strict";var i=a("f1b8"),n=a.n(i);n.a},2:function(t,e){},20:function(t,e){},21:function(t,e){},22:function(t,e){},"2ab9":function(t,e,a){},3:function(t,e){},"31e9":function(t,e,a){"use strict";var i=a("6109"),n=a.n(i);n.a},3486:function(t,e,a){},"3e26":function(t,e,a){"use strict";var i=a("3486"),n=a.n(i);n.a},4:function(t,e){},"44a0":function(t,e,a){"use strict";var i=a("d386"),n=a.n(i);n.a},4649:function(t,e,a){"use strict";var i=a("2ab9"),n=a.n(i);n.a},"4c49":function(t,e,a){},"4c8f":function(t,e,a){},5:function(t,e){},5619:function(t){t.exports=JSON.parse('{"NODE_ENV":"$NODE_ENV","TITLE":"$VUE_APP_TITLE","DESC":"$VUE_APP_DESC","VERSION":"$VUE_APP_VERSION","STUDIO_SERVER_BASE_URL":"$VUE_APP_STUDIO_SERVER_BASE_URL","STUDIO_SERVER_PROCURMENT_LIST":"$VUE_APP_STUDIO_SERVER_PROCURMENT_LIST","STUDIO_SERVER_ACCEPT_PROCURMENT":"$VUE_APP_STUDIO_SERVER_ACCEPT_PROCURMENT","STUDIO_SERVER_CRED_ISSUE_EP":"$VUE_APP_STUDIO_SERVER_CRED_ISSUE_EP","STUDIO_SERVER_AUTH_CHALLENGE_EP":"$VUE_APP_STUDIO_SERVER_AUTH_CHALLENGE_EP","STUDIO_SERVER_AUTH_LOGIN_EP":"$VUE_APP_STUDIO_SERVER_AUTH_LOGIN_EP","NODE_SERVER_BASE_URL":"$VUE_APP_NODE_SERVER_BASE_URL","NODE_SERVER_SCHEMA_LIST_EP":"$VUE_APP_NODE_SERVER_SCHEMA_LIST_EP","NODE_SERVER_SCHEMA_GET_EP":"$VUE_APP_NODE_SERVER_SCHEMA_GET_EP","NODE_SERVER_SCHEMA_CREATE_EP":"$VUE_APP_NODE_SERVER_SCHEMA_CREATE_EP","NODE_SERVER_DID_RERSOLVE_EP":"$VUE_APP_NODE_SERVER_DID_RERSOLVE_EP","EXPLORER_BASE_URL":"$VUE_APP_EXPLORER_BASE_URL","EXPLORER_NEW_DID_EP":"$VUE_APP_EXPLORER_NEW_DID_EP"}')},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var i=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"row nav-style"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group form-inline"},[a("h4",{staticClass:"subtitle"},[t._v("  "+t._s(t.$config.app.name)+" ("+t._s(t.$config.app.version)+")")])])]),t.authRoutes.includes(t.$router.history.current.name)?t._e():a("div",{staticClass:"col-md-8 rightAlign",staticStyle:{"padding-top":"12px"}},t._l(t.menu,(function(e){return a("button",{key:e.name,staticClass:"btn btn-light btn-sm",attrs:{type:"button"},on:{click:function(a){return t.goToNextPage(e.name)}}},[t._v(t._s(e.name))])})),0)]),a("router-view"),a("notifications",{attrs:{group:"foo"}})],1)},r=[],s=(a("7f7f"),a("7514"),{data:function(){return{authRoutes:["register","PKIIdLogin"],menu:[{name:"Dashboard",path:"/studio/dashboard",isShow:!0},{name:"Procurment",path:"/studio/procurment",isShow:!0},{name:"Logout",path:"/login",isShow:!1}]}},methods:{logout:function(){localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("credentials"),localStorage.removeItem("userData")},goToNextPage:function(t){var e=this.menu.find((function(e){return e.name===t}));"Logout"===e.name&&this.logout(),this.$router.push(e.path),null!=this.$route.params.nextUrl?this.$router.push(this.$route.params.nextUrl):this.$router.push(e.path)}}}),o=s,c=(a("31e9"),a("b0a0"),a("2877")),l=Object(c["a"])(o,n,r,!1,null,"b791afb6",null),u=l.exports,d=a("8c4f"),h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row",staticStyle:{"align-content":"center"}},[a("div",{staticClass:"col-md-7",staticStyle:{"font-size":"small",color:"grey"},attrs:{hidden:""}},[t._v("\n    Can we put one big image here?\n  ")]),a("div",{staticClass:"col-md-4"}),a("div",{staticClass:"col-md-3",staticStyle:{"font-size":"small",color:"grey"}},[a("form",{attrs:{action:"#"}},[a("b-card",{staticStyle:{padding:"12%","border-top":"4px solid #00f9"},attrs:{"no-body":""}},[a("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":t.fullPage},on:{"update:active":function(e){t.isLoading=e}}}),a("h4",[t._v("Login")]),a("hr"),a("div",{staticClass:"row"},[a("form",{staticClass:"col-md-12",attrs:{action:"#"}},[a("div",{staticClass:"form-group"},[a("qrcode-vue",{attrs:{value:t.value,size:200,level:"H"}}),a("label",{staticStyle:{"font-size":"larger"}},[t._v("Scan the QR code using "),a("a",{attrs:{href:"https://superhero.com/",target:"_blank"}},[t._v(" Hypersign Auth")]),t._v(" credential in your mobile app to authenticate!")]),a("div",[a("p",[t._v("Donâ€™t have the app yet? "),a("a",{attrs:{href:"#"}},[t._v("Get it now")])])])],1)])])],1)],1)]),a("div",{staticClass:"col-md-4"})])},f=[],m=a("d7b0"),p=a("41aa"),v=a.n(p),g=a("522b"),b={studioServer:{BASE_URL:v.a.value("STUDIO_SERVER_BASE_URL"),PROCURMENT_LIST:v.a.value("STUDIO_SERVER_PROCURMENT_LIST")||"procurement",ACCEPT_PROCURMENT:v.a.value("STUDIO_SERVER_ACCEPT_PROCURMENTT")||"accept-procurement",CRED_ISSUE_EP:v.a.value("STUDIO_SERVER_CRED_ISSUE_EP")||"api/credential/issue",AUTH_CHALLENGE_EP:v.a.value("STUDIO_SERVER_AUTH_CHALLENGE_EP")||"api/auth/challenge",AUTH_LOGIN_EP:v.a.value("STUDIO_SERVER_AUTH_LOGIN_EP")||"api/auth/login"},nodeServer:{BASE_URL:v.a.value("NODE_SERVER_BASE_URL"),NETWORK_STATUS_EP:v.a.value("NODE_SERVER_NETWORK_STATUS_EP")||"network/info",SCHEMA_LIST_EP:v.a.value("NODE_SERVER_SCHEMA_LIST_EP")||"api/schema/list",SCHEMA_GET_EP:v.a.value("NODE_SERVER_SCHEMA_GET_EP")||"api/schema/get",SCHEMA_CREATE_EP:v.a.value("NODE_SERVER_SCHEMA_CREATE_EP")||"api/schema/create",DID_RESOLVE_EP:v.a.value("NODE_SERVER_DID_RERSOLVE_EP")||"api/did/resolve/"},explorer:{BASE_URL:v.a.value("EXPLORER_BASE_URL"),NEW_DID_EP:v.a.value("EXPLORER_NEW_DID_EP")||"newdid"},app:{name:v.a.value("TITLE")||"Dalmia Tracebil",decription:v.a.value("DESC"),version:v.a.value("VERSION")}},_={nodeUrl:b.nodeServer.BASE_URL,didScheme:"did:hs"},E={did:g.did(_),credential:g.credential(_)};b["hypersignSDK"]=E;var S,C=b,y=a("9062"),w=a.n(y),O=(a("e40d"),a("0b16")),P=a.n(O),D=void 0,R=(C.hypersignSDK,a("e2c9")),x=(R.sha256hashStr,{name:"Login",components:{QrcodeVue:m["a"],Loading:w.a},data:function(){return{active:0,username:"",password:"",host:location.hostname,challenge:"dddd",domain:location.host,credentials:{},userData:{},value:"",user:{},verifiablePresentation:"",fullPage:!0,isLoading:!1,connection:null,privateKey:"3isrtEJ4gt1ZHkdUYYph1WFAtzfqAL5WM6Hh1NC2hmWnDfBypXjt5oUFdAqQdiess2vqqQ3iF6x4fDVuvLw454sn",did:"did:hs:892325a4-75c9-465c-882b-91e3ca5143c3"}},created:function(){console.log("Beofer creating websoceket connection");var t=this.$config.studioServer.BASE_URL,e="ws://localhost:4006",a={};try{a=P.a.parse(t),console.log(a),e="https:"===a.protocol?"wss://".concat(a.host):"ws://".concat(a.host),console.log(e)}catch(n){e="ws://localhost:4006"}this.connection=new WebSocket(e),this.connection.onopen=function(){console.log("Websocket connection is open")},this.isLoading=!0;var i=this;this.connection.onmessage=function(t){var e=t.data;console.log("Websocket connection messag receieved ",e);var a=JSON.parse(e);if(console.log(a),"init"==a.op)i.isLoading=!1,console.log(a.data),i.value=a.data;else if("end"==a.op){i.connection.close();var n=a.data.token;console.log(n),localStorage.setItem("authToken",n),null!=localStorage.getItem("authToken")&&(null!=i.$route.params.nextUrl?i.$router.push(i.$route.params.nextUrl):(console.log(i.$router),i.$router.push("dashboard")))}},this.connection.onerror=function(t){console.log("Websocket connection error ",t)}},mounted:function(){this.clean()},methods:{push:function(t){this.$router.push(t)},clean:function(){localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("credentials"),localStorage.removeItem("userData")},notifySuccess:function(t){this.$notify({group:"foo",title:"Information",type:"success",text:t})},notifyErr:function(t){this.$notify({group:"foo",title:"Error",type:"error",text:t})},gotosubpage:function(t){D.$router.push("".concat(t))}}}),L=x,N=(a("4649"),Object(c["a"])(L,h,f,!1,null,"1972518a",null)),A=N.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":t.fullPage},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"col-md-3",staticStyle:{"font-size":"small",color:"grey","margin-left":"36%"}},[a("form",{staticStyle:{padding:"6px"},attrs:{action:"#"}},[a("b-card",{staticStyle:{padding:"40px"},attrs:{"no-body":""}},[a("h4",[t._v("Sign Up")]),a("hr"),a("div",{staticClass:"row"},[a("form",{staticClass:"col-md-12",attrs:{action:"#"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"floatLeft"},[t._v("Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.fullName,expression:"fullName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter name"},domProps:{value:t.fullName},on:{input:function(e){e.target.composing||(t.fullName=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"floatLeft"},[t._v("Email:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Enter email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"floatLeft"},[t._v("Hypersign DID ("),a("a",{attrs:{href:""+t.$config.explorer.BASE_URL,target:"_blank"}},[t._v("Get a DID")]),t._v("):")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.did,expression:"did"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter DID (did:hs:...)"},domProps:{value:t.did},on:{input:function(e){e.target.composing||(t.did=e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3",attrs:{hidden:""}},[a("button",{staticClass:"btn btn-primary btn-sm floatLeft",attrs:{type:"button","data-toggle":"modal"},on:{click:function(e){return t.downloadPresentation()}}},[t._v("View Proof")])]),a("div",{staticClass:"col-sm-3"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-toggle":"modal"},on:{click:function(e){return t.signup()}}},[t._v("Signup")])]),a("div",{staticClass:"col-md-9 floatRight"},[t._v("\n            Back to\n            "),a("a",{staticStyle:{color:"blue",cursor:"pointer"},on:{click:function(e){return t.push("login")}}},[t._v("Login")])])])])],1)])],1)},k=[],T=a("bd86"),j=(a("96cf"),a("3b8d")),U=a("a18f"),$=a.n(U),V=void 0,M=a("e2c9"),B=(M.sha256hashStr,S={name:"Register",components:{}},Object(T["a"])(S,"components",{Loading:w.a}),Object(T["a"])(S,"data",(function(){return{active:0,fullName:"",email:"",phno:"",publicKey:"",username:"",password:"",host:location.hostname,keys:{},did:"",isLoading:!1,fullPage:!0}})),Object(T["a"])(S,"created",(function(){})),Object(T["a"])(S,"methods",{push:function(t){this.$router.push(t)},gotosubpage:function(t){V.$router.push("".concat(t))},notifySuccess:function(t){this.$notify({group:"foo",title:"Information",type:"success",text:t})},notifyErr:function(t){this.$notify({group:"foo",title:"Error",type:"error",text:t})},signup:function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(){var e,a,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.isLoading=!0,t.prev=1,""!=this.email&&""!=this.name&&""!=this.did){t.next=4;break}throw new Error("All fields are mandatory");case 4:return e={fname:this.fullName,email:this.email,publicKey:this.did},a="".concat(this.$config.studioServer.BASE_URL,"api/auth/register"),t.next=8,$()(a,{body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}});case 8:return i=t.sent,t.next=11,i.json();case 11:if(n=t.sent,500!=n.status){t.next=15;break}throw this.isLoading=!1,new Error(n.error);case 15:this.isLoading=!1,alert("An email has been sent to you. Please click on the link to verify and download HypersignAuth credentials."),this.isLoading=!1,this.$router.push("login"),t.next=25;break;case 21:t.prev=21,t.t0=t["catch"](1),this.isLoading=!1,this.notifyErr(t.t0.message);case 25:case"end":return t.stop()}}),t,this,[[1,21]])})));function e(){return t.apply(this,arguments)}return e}()}),S),H=B,F=(a("19f3"),Object(c["a"])(H,I,k,!1,null,"c9b8fd9e",null)),J=F.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home marginLeft marginRight"},[a("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":t.fullPage},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12",staticStyle:{"text-align":"left"}},[a("Info",{attrs:{message:t.description}}),a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-1",modifiers:{"collapse-1":!0}}],attrs:{variant:"link"}},[t._v("Issue Credential")])],1),a("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-1"}},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("form",{staticStyle:{"max-height":"300px",overflow:"auto",padding:"5px"}},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.holderDid,expression:"holderDid"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Issued To (did:hs:...)"},domProps:{value:t.holderDid},on:{input:function(e){e.target.composing||(t.holderDid=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("b-form-select",{staticClass:"mt-3",attrs:{options:t.selectOptions,size:"md"},on:{change:function(e){return t.OnSchemaSelectDropDownChange(e)}},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1),t._l(t.issueCredAttributes,(function(e){return a("div",{key:e.name,staticClass:"form-group"},[a("label",[t._v(t._s(e.name))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"attr.value"}],staticClass:"form-control",attrs:{text:"",placeholder:"Enter attribute value"},domProps:{value:e.value},on:{input:function(a){a.target.composing||t.$set(e,"value",a.target.value)}}})])}))],2),a("hr"),a("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(e){return t.issueCredential()}}},[t._v("Issue")])]),t.isCredentialIssued?a("div",{staticClass:"col-md-6",staticStyle:{padding:"30px"}},[a("div",{staticClass:"form-group",staticStyle:{"text-align":"center"}},[a("qrcode-vue",{attrs:{value:t.signedVerifiableCredential,size:200,level:"H"}}),a("label",{staticClass:"title"},[t._v("Scan the QR code using Hypersign Wallet!")])],1),a("div",{staticClass:"form-group",staticStyle:{"text-align":"center"}},[a("p"),a("h5",[t._v("OR")]),a("button",{staticClass:"btn btn-link",on:{click:function(e){return t.downloadCredentials()}}},[t._v("Download Credential")])])]):t._e()])])])],1)],1)]),a("div",{staticClass:"row",staticStyle:{"margin-top":"2%"}},[a("div",{staticClass:"col-md-12"},[a("table",{staticClass:"table table-bordered",staticStyle:{background:"#FFFF"}},[t._m(0),a("tbody",t._l(t.vcList,(function(e){return a("tr",{key:e},[a("th",{attrs:{scope:"row"}},[a("div",{staticClass:"custom-control custom-checkbox"},[a("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:e.id}}),a("label",{staticClass:"custom-control-label",attrs:{for:e.id}},[t._v(t._s(e.id))])])]),a("td",[t._v(t._s(e.schemaId))]),a("td",[t._v(t._s(e.issuer))]),a("td",[t._v(t._s(e.subject))]),a("td",[t._v(t._s(e.dataHash))])])})),0)])])])],1)},K=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-light"},[a("tr",[a("th",[t._v("id")]),a("th",[t._v("schemaId")]),a("th",[t._v("issuer")]),a("th",[t._v("subject")]),a("th",[t._v("dataHash")])])])}],z=(a("8e6e"),a("456d"),a("ac6a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"message"},[t._v("\n    "+t._s(t.message)+"\n")])}),W=[],q={name:"Info",props:["message"],mounted:function(){}},Q=q,X=(a("7899"),Object(c["a"])(Q,z,W,!1,null,"7080b038",null)),Y=X.exports,Z=void 0;function tt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function et(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?tt(Object(a),!0).forEach((function(e){Object(T["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):tt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var at=C.hypersignSDK,it={name:"IssueCredential",components:{QrcodeVue:m["a"],Info:Y},data:function(){return{description:'An issuer can issue a credential to a subject (or holder) which can be verfied by the verifier independently, without having him to connect with the issuer. They are a part of our daily lives; driver\'s licenses are used to assert that we are capable of operating a motor vehicle, university degrees can be used to assert our level of education, and government-issued passports enable us to travel between countries.  For example: an airline company can issue a flight ticket ("verfiable credential") using schema (issued by DGCA) to the passenger.',active:0,host:location.hostname,user:{},prevRoute:null,attributeName:"",attributes:[],issueCredAttributes:[],radioSelected:"create",credentialName:"",isCredentialIssued:!1,signedVerifiableCredential:"",credentials:JSON.parse(localStorage.getItem("credentials")),subjectDid:"did:hs:AmitKumar",radioOptions:[{text:"Create new schema",value:"create"},{text:"Select existing schema",value:"existing"}],selected:null,attributeValues:{},authToken:localStorage.getItem("authToken"),selectOptions:[{value:null,text:"Please select a schema"}],schemaMap:{},vcList:[],schemaList:[],fullPage:!0,isLoading:!1,holderDid:""}},created:function(){var t=localStorage.getItem("user");this.user=JSON.parse(t),this.getList("SCHEMA"),this.getList("CREDENTIAL")},beforeRouteEnter:function(t,e,a){a((function(t){t.prevRoute=e}))},methods:{notifySuccess:function(t){this.$notify({group:"foo",title:"Information",type:"success",text:t})},notifyErr:function(t){this.$notify({group:"foo",title:"Error",type:"error",text:t})},getList:function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(e){var a,i,n,r,s,o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="",i={},"SCHEMA"===e?(a="".concat(this.$config.nodeServer.BASE_URL).concat(this.$config.nodeServer.SCHEMA_LIST_EP),i={method:"GET"}):(a="".concat(this.$config.studioServer.BASE_URL).concat(this.$config.studioServer.CRED_LIST_EP),i={method:"GET",headers:{"x-auth-token":this.authToken}}),t.next=5,$()(a,i);case 5:return n=t.sent,t.next=8,n.json();case 8:if(r=t.sent,!r||500!=r.status){t.next=11;break}return t.abrupt("return",this.notifyErr("Error:  ".concat(r.error)));case 11:"SCHEMA"===e?(s=r.message,s&&s.length>0&&s.forEach((function(t){t.owner==o.user.id&&(o.schemaMap[t.id]=JSON.parse(t.attributes),o.selectOptions.push({value:t.id,text:"".concat(t.credentialName," | ").concat(t.id)}))}))):this.vcList=r.message.list;case 12:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),fetchData:function(t,e){var a=this;$()(t).then((function(t){return t.json()})).then((function(t){if(200!=t.status)throw new Error(t.error);return t.message})).catch((function(t){return a.notifyErr("Error: ".concat(t.message))}))},gotosubpage:function(t){Z.$router.push("".concat(t))},addBlankAttrBox:function(){" "!=this.attributeName&&(this.attributes.push(this.attributeName),this.attributeName=" ")},onSchemaOptionChange:function(t){this.attributes=[],this.issueCredAttributes=[],this.selected=null,this.credentialName=""},OnSchemaSelectDropDownChange:function(t){var e=this;if(t){this.issueCredAttributes=[];var a=this.issueCredAttributes.length;this.schemaMap[t].forEach((function(i){e.issueCredAttributes.push({id:a+t,type:"text",name:i,value:""})}))}else this.issueCredAttributes=[]},forceFileDownload:function(t,e){var a=window.URL.createObjectURL(new Blob([t])),i=document.createElement("a");i.href=a,i.setAttribute("download",e),document.body.appendChild(i),i.click()},downloadCredentials:function(){this.forceFileDownload(JSON.stringify(this.signedVerifiableCredential),"vc.json")},generateAttributeMap:function(){var t=[];return this.issueCredAttributes.length>0&&this.issueCredAttributes.forEach((function(e){t[e.name]=e.value})),t},getCredentials:function(t){var e="".concat(this.$config.nodeServer.BASE_URL).concat(this.$config.nodeServer.SCHEMA_GET_EP,"/").concat(this.selected);return at.credential.generateCredential(e,{subjectDid:this.holderDid,issuerDid:this.user.publicKey,expirationDate:(new Date).toISOString(),attributesMap:t}).then((function(t){return t}))},signCredentials:function(t){return at.credential.signCredential(t,this.user.publicKey,this.user.privateKey).then((function(t){return t}))},issueCredential:function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(){var e,a,i,n,r,s,o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,this.isLoading=!0,""!=this.holderDid){t.next=4;break}throw new Error("Please enter the holder did");case 4:if(null!=this.selected){t.next=6;break}throw new Error("Please select a schema");case 6:return t.next=8,this.generateAttributeMap();case 8:return e=t.sent,t.next=11,this.getCredentials(e);case 11:return a=t.sent,t.next=14,this.signCredentials(a);case 14:i=t.sent,this.signedVerifiableCredential=i,n="".concat(this.$config.studioServer.BASE_URL).concat(this.$config.studioServer.CRED_ISSUE_EP),r={"Content-Type":"application/json","x-auth-token":this.authToken},s={subject:this.subjectDid,schemaId:this.selected,dataHash:i,appId:"appI123"},$()(n,{method:"POST",headers:r,body:JSON.stringify(s)}).then((function(t){return t.json()})).then((function(t){if(200!=t.status)throw new Error("Error: ".concat(t.error));200===t.status&&(o.isCredentialIssued=!0,o.onSchemaOptionChange(null),o.vcList.push(et({},t.message)),o.isLoading=!1,o.notifySuccess("Credential successfully issued"))})).catch((function(t){o.isLoading=!1,o.notifyErr("Error: ".concat(t.message))})),t.next=26;break;case 22:t.prev=22,t.t0=t["catch"](0),this.isLoading=!1,this.notifyErr("Error: ".concat(t.t0.message));case 26:case"end":return t.stop()}}),t,this,[[0,22]])})));function e(){return t.apply(this,arguments)}return e}()}},nt=it,rt=(a("ae51"),Object(c["a"])(nt,G,K,!1,null,"32e14554",null)),st=rt.exports,ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home marginLeft marginRight"},[a("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":t.fullPage},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12",staticStyle:{"text-align":"left"}},[a("Info",{attrs:{message:t.description}}),a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-1",modifiers:{"collapse-1":!0}}],attrs:{variant:"link"}},[t._v("Generate Presentation")])],1),a("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-1"}},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("form",{staticStyle:{"max-height":"300px","min-height":"300px",overflow:"auto",padding:"5px"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"floatLeft"},[t._v("Upload Verifiable Credential (s):")]),a("input",{ref:"vcFile",staticClass:"form-control",attrs:{type:"file",placeholder:""},on:{change:t.onFileChange}})]),t._l(t.issueCredAttributes,(function(e){return a("div",{key:e.name,staticClass:"form-group"},[a("label",[t._v(t._s(e.name))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"attr.value"}],staticClass:"form-control",attrs:{text:"",placeholder:"Enter attribute value"},domProps:{value:e.value},on:{input:function(a){a.target.composing||t.$set(e,"value",a.target.value)}}})])}))],2),a("hr"),a("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(e){return t.generatePresentation()}}},[t._v("Generate")])]),t.isCredentialIssued?a("div",{staticClass:"col-md-6",staticStyle:{padding:"30px"}},[a("div",{staticClass:"form-group",staticStyle:{"text-align":"center"}},[a("qrcode-vue",{attrs:{value:t.signedVerifiablePresentation,size:200,level:"H"}}),a("label",{staticClass:"title"},[t._v("Scan the QR code using Hypersign Wallet!")])],1),a("div",{staticClass:"form-group",staticStyle:{"text-align":"center"}},[a("p"),a("h5",[t._v("OR")]),a("button",{staticClass:"btn btn-link",on:{click:function(e){return t.downloadCredentials()}}},[t._v("Download Presentation")])])]):t._e()])])])],1)],1)]),a("div",{staticClass:"row",staticStyle:{"margin-top":"1%"}},[a("div",{staticClass:"col-md-12",staticStyle:{"text-align":"left"}},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-2",modifiers:{"collapse-2":!0}}],attrs:{variant:"link"}},[t._v("Verify Presentation")])],1),a("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-2"}},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("form",{staticStyle:{"max-height":"450px","min-height":"450px",overflow:"auto",padding:"5px"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"floatLeft"},[t._v("Upload Verifiable Presentation:")]),a("input",{ref:"vpFile",staticClass:"form-control",attrs:{type:"file",placeholder:""},on:{change:t.onFileChange}})])]),a("div",{staticClass:"form-grop"},[a("hr"),a("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(e){return t.viewPresentation()}}},[t._v("View")]),a("button",{staticClass:"btn btn-outline-danger btn-sm",on:{click:function(e){return t.clear()}}},[t._v("Clear")])])]),a("div",{staticClass:"col-md-6"},[a("form",{staticClass:"card",staticStyle:{padding:"5px"}},[a("div",{staticClass:"card-header",staticStyle:{padding:"5px"}},[a("a",{attrs:{href:t.presentationDetails.credentialType.url,target:"_blank"}},[t._v(t._s(t.presentationDetails.credentialType.name))])]),a("div",{staticClass:"form-group",staticStyle:{"max-height":"400px","min-height":"400px",overflow:"auto",padding:"5px"}},[a("div",{staticClass:"card-body"},[a("ul",{staticClass:"list-group",staticStyle:{"font-size":"smaller"}},[a("li",{staticClass:"list-group-item"},[a("label",[a("b",[t._v("Issuer  DID:")]),t._v(" "+t._s(t.presentationDetails.issuerDid))])]),a("li",{staticClass:"list-group-item"},[a("label",[a("b",[t._v("Subject DID:")]),t._v(" "+t._s(t.presentationDetails.holderDid))])]),a("li",{staticClass:"list-group-item"},[a("label",[a("b",[t._v("Issuance Date:")]),t._v(" "+t._s(t.presentationDetails.issuanceDate))])]),a("li",{staticClass:"list-group-item"},[a("label",[a("b",[t._v("Expiration Date:")]),t._v(" "+t._s(t.presentationDetails.expirationDate))])]),a("li",{staticClass:"list-group-item"},[a("b",[t._v("Claims:")]),t.presentationDetails.claim?a("a",{staticStyle:{color:"blue","text-decoration":"underline","padding-left":"5px"},on:{click:function(e){return t.showClaims()}}},[t._v("View / Hide claims")]):t._e(),t.isClaims?a("ul",{staticClass:"list-group",staticStyle:{"padding-left":"10%","padding-top":"2%"}},t._l(t.presentationDetails.claim,(function(e,i){return a("li",{staticClass:"list-group-item"},[a("b",[t._v(t._s(i))]),t._v(": "+t._s(e)+"\n                          ")])})),0):t._e()])])])]),a("div",{staticClass:"form-group",attrs:{hidden:""}},[a("label",{staticClass:"floatLeft"},[t._v("Presentation Details:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.presentationDetails,expression:"presentationDetails"}],staticClass:"form-control",attrs:{rows:"10",cols:"20",hidden:""},domProps:{value:t.presentationDetails},on:{input:function(e){e.target.composing||(t.presentationDetails=e.target.value)}}})])]),a("div",{staticClass:"form-grop"},[a("hr"),a("button",{staticClass:"btn btn-outline-success btn-sm",on:{click:function(e){return t.verifyPresentation()}}},[t._v("Verify")])])])])])])],1)])])],1)},ct=[],lt=void 0,ut=C.hypersignSDK,dt={name:"Presentation",components:{QrcodeVue:m["a"],Info:Y},data:function(){return{description:"The subject (or holder) generates verifiable presentation from one or more verifiable       credentials, issued by one or more issuers, that is shared with a specific verifier.       A verifiable presentation is a tamper-evident presentation encoded in such a way that       authorship of the data can be trusted after a process of cryptographic verification.       Certain types of verifiable presentations might contain data that is synthesized from,       but do not contain, the original verifiable credentials for example, in order to proof the       subject that he/she is an adult, she/he does not have to tell his/her actual age       (i.e. Zero knowledge proof). The airline passenger might not have to show the complete ticket      to the secruity personal to pass the security check. The passenger will have ability to show       just one document (the verifiable presentation) derived from his passport and air ticket to      show at the security check.",active:0,host:location.hostname,user:{},prevRoute:null,attributeName:"",attributes:[],issueCredAttributes:[],radioSelected:"create",credentialName:"",isCredentialIssued:!1,signedVerifiableCredential:"",credentials:JSON.parse(localStorage.getItem("credentials")),subjectDid:"did:hs:AmitKumar",radioOptions:[{text:"Create new schema",value:"create"},{text:"Select existing schema",value:"existing"}],selected:null,attributeValues:{},authToken:localStorage.getItem("authToken"),selectOptions:[{value:null,text:"Please select a schema"}],schemaMap:{},vcList:[],schemaList:[],fullPage:!0,isLoading:!1,holderDid:"did:hs:8b915133-cb8b-4151-9a63-1b91f702297f",signedVerifiablePresentation:{},presentationDetails:{credentialType:{}},isClaims:!1}},created:function(){var t=localStorage.getItem("user");this.user=JSON.parse(t)},beforeRouteEnter:function(t,e,a){a((function(t){t.prevRoute=e}))},methods:{showClaims:function(){this.isClaims?this.isClaims=!1:this.isClaims=!0},notifySuccess:function(t){this.$notify({group:"foo",title:"Information",type:"success",text:t})},notifyErr:function(t){this.$notify({group:"foo",title:"Error",type:"error",text:t})},fetchData:function(t,e){var a=this;$()(t).then((function(t){return t.json()})).then((function(t){if(200!=t.status)throw new Error(t.error);return t.message})).catch((function(t){return a.notifyErr("Error: ".concat(t.message))}))},gotosubpage:function(t){lt.$router.push("".concat(t))},addBlankAttrBox:function(){" "!=this.attributeName&&(this.attributes.push(this.attributeName),this.attributeName=" ")},onSchemaOptionChange:function(t){this.attributes=[],this.issueCredAttributes=[],this.selected=null,this.credentialName=""},OnSchemaSelectDropDownChange:function(t){var e=this;if(t){this.issueCredAttributes=[];var a=this.issueCredAttributes.length;this.schemaMap[t].forEach((function(i){e.issueCredAttributes.push({id:a+t,type:"text",name:i,value:""})}))}else this.issueCredAttributes=[]},forceFileDownload:function(t,e){var a=window.URL.createObjectURL(new Blob([t])),i=document.createElement("a");i.href=a,i.setAttribute("download",e),document.body.appendChild(i),i.click()},downloadCredentials:function(){this.forceFileDownload(JSON.stringify(this.signedVerifiablePresentation),"vp.json")},onfileLoadSuccess:function(t){var e=JSON.parse(t.target.result);e||this.notifyErr("Incorrect file");var a=e["type"];a.find((function(t){return"VerifiableCredential"==t}))?(localStorage.removeItem("credential"),localStorage.setItem("credential",JSON.stringify(e))):a.find((function(t){return"VerifiablePresentation"==t}))?(localStorage.removeItem("presentation"),localStorage.setItem("presentation",JSON.stringify(e))):this.notifyErr("Invalid file")},readFile:function(t,e){var a=new FileReader;a.onload=e,a.readAsText(t)},onFileChange:function(t){var e=t.target.files[0];this.readFile(e,this.onfileLoadSuccess)},getCredentials:function(t){var e="".concat(this.$config.nodeServer.BASE_URL).concat(this.$config.nodeServer.SCHEMA_GET_EP).concat(this.selected);return ut.credential.generateCredential(e,{subjectDid:this.holderDid,issuerDid:this.user.publicKey,expirationDate:(new Date).toISOString(),attributesMap:t}).then((function(t){return t}))},signCredentials:function(t){return ut.credential.signCredential(t,this.user.publicKey,this.user.privateKey).then((function(t){return t}))},generatePresentation:function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(){var e,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.isLoading=!0,t.prev=1,e=JSON.parse(localStorage.getItem("credential")),e){t.next=5;break}throw new Error("Please select verifiable credential file");case 5:return t.next=7,ut.credential.generatePresentation(e,this.user.id);case 7:return a=t.sent,t.next=10,ut.credential.signPresentation(a,this.user.id,this.user.privateKey,"test_challenge");case 10:i=t.sent,this.signedVerifiablePresentation=i,this.isLoading=!1,this.isCredentialIssued=!0,this.notifySuccess("Presentation generated and sigend"),localStorage.removeItem("credential"),t.next=22;break;case 18:t.prev=18,t.t0=t["catch"](1),this.isLoading=!1,this.notifyErr(t.t0.message);case 22:case"end":return t.stop()}}),t,this,[[1,18]])})));function e(){return t.apply(this,arguments)}return e}(),viewPresentation:function(){this.isLoading=!0;try{var t=JSON.parse(localStorage.getItem("presentation"));if(!t)throw new Error("Please select verifiable presentation file");var e=t.verifiableCredential[0];this.presentationDetails={},this.presentationDetails.credentialType={name:e.type[1],url:e["@context"][1]["hsscheme"]},this.presentationDetails.issuerDid=e.issuer,this.presentationDetails.holderDid=e.credentialSubject.id,this.presentationDetails.issuanceDate=e.issuanceDate,this.presentationDetails.expirationDate=e.expirationDate,this.presentationDetails.claim=e.credentialSubject}catch(a){this.isLoading=!1,this.notifyErr(a.message)}},clear:function(){this.presentationDetails="",localStorage.removeItem("presentation"),localStorage.removeItem("credential"),this.$refs.vpFile.value=null,this.$refs.vcFile.value=null,this.signedVerifiablePresentation={},this.isCredentialIssued=!1},verifyPresentation:function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(){var e,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.isLoading=!0,t.prev=1,e=JSON.parse(localStorage.getItem("presentation")),e){t.next=5;break}throw new Error("Please select verifiable presentation file");case 5:return a=e.verifiableCredential[0],t.next=8,ut.credential.verifyPresentation({presentation:e,challenge:"test_challenge",issuerDid:a.issuer,holderDid:a.credentialSubject.id});case 8:i=t.sent,i.verified?this.notifySuccess("Presentation verified"):this.notifyErr("Presentation can not verified"),this.isLoading=!1,this.clear(),t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](1),this.isLoading=!1,this.notifyErr(t.t0.message);case 18:case"end":return t.stop()}}),t,this,[[1,14]])})));function e(){return t.apply(this,arguments)}return e}()}},ht=dt,ft=(a("d3f6"),Object(c["a"])(ht,ot,ct,!1,null,"5d04b7d4",null)),mt=ft.exports,pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home marginRight marginLeft"},[a("h3",{staticClass:"leftAlign"},[t._v("Welcome, "+t._s(t.user.Name.split(":")[0])+"!")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("Profile")],1)])])},vt=[],gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row",staticStyle:{padding:"10px"}},[a("div",{staticClass:"col-md-6",staticStyle:{"margin-left":"40%"}},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[t._v("\n            Network Details "),"LIVE"==t.networkStatus.status?a("span",{staticClass:"dot"}):t._e()]),a("div",{staticClass:"card-body leftAlign"},[a("p",[t._v("NETWORK\n            ")]),a("p",{staticClass:"fVal"},[t._v("Hypersign Staging Network")]),a("p",[t._v("NODE URL\n            ")]),a("p",{staticClass:"fVal"},[a("a",{attrs:{href:t.networkStatus.nodeUrl,target:"_blank"}},[t._v(t._s(t.networkStatus.nodeUrl))])]),a("p",[t._v("EXPLORER URL\n            ")]),a("p",{staticClass:"fVal"},[a("a",{attrs:{href:t.networkStatus.explorerUrl,target:"_blank"}},[t._v(t._s(t.networkStatus.explorerUrl))])]),a("p",[t._v("DID COUNT\n            ")]),a("p",{staticClass:"fVal"},[t._v(t._s(t.networkStatus.didCount))]),a("p",[t._v("SCHEMA COUNT\n            ")]),a("p",{staticClass:"fVal"},[t._v(t._s(t.networkStatus.schemaCount))])])])])])},bt=[],_t=void 0;function Et(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function St(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Et(Object(a),!0).forEach((function(e){Object(T["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Et(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Ct={name:"PanelPage",mounted:function(){},components:{},data:function(){return{active:0,networkStatus:{status:"DOWN",nodeUrl:"",explorerUrl:"",schemaCount:"0",didCount:"0"}}},created:function(){var t=this,e="".concat(this.$config.nodeServer.BASE_URL).concat(this.$config.nodeServer.NETWORK_STATUS_EP);fetch(e).then((function(t){return t.json()})).then((function(e){t.networkStatus=St({},e)})).catch((function(t){return alert("Error: ".concat(t.message))}))},methods:{gotosubpage:function(t){_t.$router.push("".concat(t))}}},yt=Ct,wt=(a("58ab"),Object(c["a"])(yt,gt,bt,!1,null,"c0229ba4",null)),Ot=wt.exports,Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-10 leftAlign"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[t._m(0),a("div",{staticClass:"col-md-8",staticStyle:{"flex-wrap":"wrap",padding:"20px"}},[a("p",[t._v("DID")]),a("p",{staticClass:"fVal"},[a("a",{attrs:{href:""+t.$config.nodeServer.BASE_URL+t.$config.nodeServer.DID_RESOLVE_EP+t.user.id,target:"_blank"}},[t._v(t._s(t.user.id))])]),a("p",[t._v("Email")]),a("p",{staticClass:"fVal"},[t._v(t._s(t.user.Email))]),a("p",[t._v("Role")]),a("p",{staticClass:"fVal"},[t._v(t._s(t.user.Name.split(":")[1]))]),t.user.phoneNumber?a("p",[t._v("Phone Number: "+t._s(t.user.phoneNumber))]):t._e()])])])])])])},Dt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-4"},[a("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:"https://cdn1.iconfinder.com/data/icons/female-avatars-vol-1/256/female-portrait-avatar-profile-woman-sexy-afro-2-512.png",alt:"John"}})])}],Rt=void 0;function xt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function Lt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?xt(Object(a),!0).forEach((function(e){Object(T["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):xt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Nt={name:"Profile",mounted:function(){},components:{},data:function(){return{active:0,userKeys:[],appList:[],schemaCount:0,credentialCount:0,acceptedList:[],dispatchedList:[],schemaList:[],user:{id:"",publicKey:"",email:"",phoneNumber:"",fname:"",Email:"",Name:""},authToken:localStorage.getItem("authToken")}},created:function(){var t=localStorage.getItem("user");this.user=Lt({},JSON.parse(t)),this.userKeys=Object.keys(this.user)},methods:{fetchData:function(t,e){return fetch(t,e).then((function(t){return t.json()})).then((function(t){return t.message})).catch((function(t){return alert("Error: ".concat(t.message))}))},fetchProcurment:function(){var t=this,e="".concat(this.$config.studioServer.BASE_URL).concat(this.$config.studioServer.PROCURMENT_LIST);fetch(e).then((function(t){return t.json()})).then((function(e){console.log(e),t.schemaList=e,t.schemaList&&t.schemaList.length>0&&(t.acceptedList=t.schemaList.filter((function(t){return"ACCEPTED"==t.state})),t.dispatchedList=t.schemaList.filter((function(t){return"DISPATCHED"==t.state||"ADDED"==t.state})))})).catch((function(e){return t.notifyErr("Error: ".concat(e.message))}))},pollData:function(){var t=this,e="".concat(this.$config.nodeServer.BASE_URL).concat(this.$config.nodeServer.SCHEMA_LIST_EP),a={};this.fetchData(e).then((function(e){e&&e.length>0&&(e=e.filter((function(e){return e.owner===t.user.id})),t.schemaCount=e.length)})),e="".concat(this.$config.studioServer.BASE_URL).concat(this.$config.studioServer.CRED_LIST_EP),a={method:"GET",headers:{"x-auth-token":this.authToken}},this.fetchData(e,a).then((function(e){e&&(t.credentialCount=e.count)}))},gotosubpage:function(t){Rt.$router.push("".concat(t))}}},At=Nt,It=(a("3e26"),Object(c["a"])(At,Pt,Dt,!1,null,"4e2fe092",null)),kt=It.exports,Tt=void 0,jt={name:"PanelPage",mounted:function(){},components:{Dashboard:Ot,Profile:kt},data:function(){return{appList:[],user:{},appName:"",authToken:localStorage.getItem("authToken")}},created:function(){var t=localStorage.getItem("user");this.user=JSON.parse(t)},methods:{notifySuccess:function(t){this.$notify({group:"foo",title:"Information",type:"success",text:t})},notifyErr:function(t){this.$notify({group:"foo",title:"Error",type:"error",text:t})},gotosubpage:function(t){Tt.$router.push("".concat(t))},logout:function(){localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("credentials"),localStorage.removeItem("userData"),null!=this.$route.params.nextUrl?this.$router.push(this.$route.params.nextUrl):this.$router.push("/login")}}},Ut=jt,$t=(a("c338"),Object(c["a"])(Ut,pt,vt,!1,null,"f7db71fe",null)),Vt=$t.exports,Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home marginLeft marginRight"},[a("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":t.fullPage},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12",staticStyle:{"text-align":"left"}},[a("Info",{attrs:{message:t.description}}),a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-1",modifiers:{"collapse-1":!0}}],attrs:{variant:"link"}},[t._v("Create Schema")])],1),a("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-1"}},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group form-inline"},[a("label",{staticStyle:{"margin-right":"8%"}},[t._v("Schema Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.credentialName,expression:"credentialName"}],staticClass:"form-control",attrs:{type:"text",size:"30",placeholder:"Enter schema name"},domProps:{value:t.credentialName},on:{input:function(e){e.target.composing||(t.credentialName=e.target.value)}}})]),a("div",{staticClass:"form-group form-inline"},[a("label",{staticStyle:{"margin-right":"12%"}},[t._v("Description:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.credentialDescription,expression:"credentialDescription"}],staticClass:"form-control",attrs:{rows:"5",cols:"29",placeholder:"Enter description"},domProps:{value:t.credentialDescription},on:{input:function(e){e.target.composing||(t.credentialDescription=e.target.value)}}})])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group form-inline"},[a("label",{staticStyle:{"margin-right":"5%"}},[t._v("Add attribute:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.attributeName,expression:"attributeName"}],staticClass:"form-control",attrs:{type:"text",size:"30",placeholder:"Enter attribute name"},domProps:{value:t.attributeName},on:{input:function(e){e.target.composing||(t.attributeName=e.target.value)}}}),a("a",{staticClass:"btn btn-primary",staticStyle:{"margin-left":"2%","border-radius":"30px",color:"white"},on:{click:function(e){return t.addBlankAttrBox()}}},[t._v("+")])]),a("div",{staticClass:"form-group",staticStyle:{"min-height":"150px","max-height":"150px",overflow:"auto"}},t._l(t.attributes,(function(e){return a("div",{key:e},[a("div",{staticClass:"sm-tiles"},[t._v("\n                      "+t._s(e)+"\n                      "),a("span",[t._v("x")])])])})),0)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("hr"),a("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(e){return t.createSchema()}}},[t._v("Create")])])])])])],1)],1)]),a("div",{staticClass:"row",staticStyle:{"margin-top":"2%"}},[a("div",{staticClass:"col-md-12"},[a("table",{staticClass:"table table-bordered",staticStyle:{background:"#FFFF"}},[t._m(0),a("tbody",t._l(t.schemaList,(function(e){return a("tr",{key:e},[a("th",[a("div",{staticClass:"custom-control custom-checkbox"},[a("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:e.id}}),a("label",{staticClass:"custom-control-label",attrs:{for:e.id}},[a("a",{attrs:{href:""+t.$config.nodeServer.BASE_URL+t.$config.nodeServer.SCHEMA_GET_EP+"/"+e.id,target:"_blank"}},[t._v(t._s(e.id))])])])]),a("td",[t._v(t._s(e.credentialName))]),a("td",{staticStyle:{"word-wrap":"break-word","min-width":"200px","max-width":"200px"}},[t._v(t._s(e.attributes))]),a("td",[t._v(t._s(e.version))]),a("td",[t._v(t._s(e.owner))])])})),0)])])])],1)},Bt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-light"},[a("tr",[a("th",[t._v("id")]),a("th",[t._v("credentialName")]),a("th",[t._v("attributes")]),a("th",[t._v("version")]),a("th",[t._v("owner")])])])}],Ht=void 0;function Ft(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function Jt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ft(Object(a),!0).forEach((function(e){Object(T["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ft(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Gt={name:"IssueCredential",components:{QrcodeVue:m["a"],Info:Y},data:function(){return{description:"Credential Schema defines what information will go inside a verifiable credential. For example: Directorate General of Civil Aviation (DGCA) can define a schema (or format) for flights tickets, being issued by all airline companies in India.",active:0,host:location.hostname,user:{},prevRoute:null,attributeName:"",attributes:[],issueCredAttributes:[],showSchema:!0,radioSelected:"create",credentialName:"",isCredentialIssued:!1,signedVerifiableCredential:"",credentials:JSON.parse(localStorage.getItem("credentials")),subjectDid:"did:hs:AmitKumar",radioOptions:[{text:"Create new schema",value:"create"},{text:"Select existing schema",value:"existing"}],selected:null,attributeValues:{},authToken:localStorage.getItem("authToken"),selectOptions:[{value:null,text:"Please select a schema"}],schemaMap:{},schemaList:[],credentialDescription:"",fullPage:!0,isLoading:!1}},created:function(){var t=localStorage.getItem("user");this.user=JSON.parse(t),this.fetchSchemas()},beforeRouteEnter:function(t,e,a){a((function(t){t.prevRoute=e}))},methods:{notifySuccess:function(t){this.$notify({group:"foo",title:"Information",type:"success",text:t})},notifyErr:function(t){this.$notify({group:"foo",title:"Error",type:"error",text:t})},fetchSchemas:function(){var t=this,e="".concat(this.$config.nodeServer.BASE_URL).concat(this.$config.nodeServer.SCHEMA_LIST_EP);$()(e).then((function(t){return t.json()})).then((function(e){if(200!=e.status)throw new Error(e.error);t.schemaList=e.message,t.schemaList&&t.schemaList.length>0&&(t.schemaList=t.schemaList.filter((function(e){return e.owner===t.user.id})))})).catch((function(e){return t.notifyErr("Error: ".concat(e.message))}))},fetchData:function(t,e){var a=this;$()(t).then((function(t){return t.json()})).then((function(t){if(200!=t.status)throw new Error(t.error);return t.message})).catch((function(t){return a.notifyErr("Error: ".concat(t.message))}))},gotosubpage:function(t){Ht.$router.push("".concat(t))},addBlankAttrBox:function(){" "!=this.attributeName&&(this.attributes.push(this.attributeName),this.attributeName=" ")},onSchemaOptionChange:function(t){this.attributes=[],this.issueCredAttributes=[],this.selected=null,this.credentialName=""},OnSchemaSelectDropDownChange:function(t){var e=this;t?(this.issueCredAttributes=[],this.schemaMap[t].forEach((function(t){e.issueCredAttributes.push({type:"text",name:t,value:""})}))):this.issueCredAttributes=[]},forceFileDownload:function(t,e){var a=window.URL.createObjectURL(new Blob([t])),i=document.createElement("a");i.href=a,i.setAttribute("download",e),document.body.appendChild(i),i.click()},downloadCredentials:function(){this.forceFileDownload(JSON.stringify(this.signedVerifiableCredential),"vc.json")},createSchema:function(){var t=this;if(this.isLoading=!0,""==this.credentialName)return this.notifyErr("Error: SchemaName can not be blank");if(0==this.attributes.length)return this.notifyErr("Error: Atleast one attribute is required");var e="".concat(this.$config.nodeServer.BASE_URL).concat(this.$config.nodeServer.SCHEMA_CREATE_EP),a={name:this.credentialName,owner:this.user.id,attributes:this.attributes,description:this.credentialDescription},i={"Content-Type":"application/json"};$()(e,{method:"POST",body:JSON.stringify(a),headers:i}).then((function(t){return t.json()})).then((function(e){200===e.status?(t.notifySuccess("Credential successfull created"),t.credentialName=e.message.credentialName,t.schemaList.push(Jt({},e.message)),t.schemaMap[e.message.id]=t.attributes,t.isLoading=!1):(t.isLoading=!1,t.notifyErr("Error: ".concat(e.error)))}))}}},Kt=Gt,zt=(a("44a0"),Object(c["a"])(Kt,Mt,Bt,!1,null,"493d3848",null)),Wt=zt.exports,qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home marginLeft marginRight"},[a("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":t.fullPage},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12",staticStyle:{"text-align":"left"}},[t.user.Name.includes(":aggregator")?a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-1",modifiers:{"collapse-1":!0}}],attrs:{variant:"link"}},[t._v("Add Procurment")])],1),a("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-1"}},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{staticStyle:{"margin-right":"8%"}},[t._v("Vehicle Number:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.vehiclNumber,expression:"vehiclNumber"}],staticClass:"form-control",attrs:{type:"text",size:"30",placeholder:"Enter vehicle number"},domProps:{value:t.vehiclNumber},on:{input:function(e){e.target.composing||(t.vehiclNumber=e.target.value)}}})])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{staticStyle:{"margin-right":"8%"}},[t._v("Type Of Material:")]),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.typOfMaterial,expression:"typOfMaterial"}],staticClass:"form-control",attrs:{type:"text",size:"30",placeholder:"Enter type of material"},domProps:{value:t.typOfMaterial},on:{input:function(e){e.target.composing||(t.typOfMaterial=e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{staticStyle:{"margin-right":"8%"}},[t._v("Number Of Sacks:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.numprOfSacks,expression:"numprOfSacks"}],staticClass:"form-control",attrs:{type:"text",size:"30",placeholder:"Enter number of sacks"},domProps:{value:t.numprOfSacks},on:{input:function(e){e.target.composing||(t.numprOfSacks=e.target.value)}}})])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{staticStyle:{"margin-right":"8%"}},[t._v("Total weight of material shipped:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.weights,expression:"weights"}],staticClass:"form-control",attrs:{type:"text",size:"30",placeholder:"Enter weight"},domProps:{value:t.weights},on:{input:function(e){e.target.composing||(t.weights=e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("hr"),a("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(e){return t.createProcurment()}}},[t._v("Create")])])])])])],1):t._e(),t.user.Name.includes(":inward")?a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-1",modifiers:{"collapse-1":!0}}],attrs:{variant:"link"}},[t._v("Update Procurment")])],1),a("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-1"}},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{staticStyle:{"margin-right":"8%"}},[t._v("Procurement Id:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.procurmentId,expression:"procurmentId"}],staticClass:"form-control",attrs:{type:"text",size:"30",placeholder:"Enter proccurment id"},domProps:{value:t.procurmentId},on:{input:function(e){e.target.composing||(t.procurmentId=e.target.value)}}})])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{staticStyle:{"margin-right":"8%"}},[t._v("Grn Number:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.grn_number,expression:"grn_number"}],staticClass:"form-control",attrs:{type:"text",size:"30",placeholder:"Enter proccurment id"},domProps:{value:t.grn_number},on:{input:function(e){e.target.composing||(t.grn_number=e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{staticStyle:{"margin-right":"8%"}},[t._v("STATE:")]),a("b-form-select",{staticClass:"form-control",attrs:{options:t.selectOptions,size:"md"},on:{change:function(e){return t.OnSchemaSelectDropDownChange(e)}},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{staticStyle:{"margin-right":"8%"}},[t._v("Comment:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.comments,expression:"comments"}],staticClass:"form-control",attrs:{type:"text",size:"30",placeholder:"Enter comment"},domProps:{value:t.comments},on:{input:function(e){e.target.composing||(t.comments=e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("hr"),a("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(e){return t.acceptProcurment()}}},[t._v("Accept")])])])])])],1):t._e()])]),a("div",{staticClass:"row",staticStyle:{"margin-top":"2%"}},[a("div",{staticClass:"col-md-12"},[a("table",{staticClass:"table table-bordered",staticStyle:{background:"#FFFF"}},[a("thead",{staticClass:"thead-light"},[a("tr",[a("th",[t._v("Procurement Id")]),a("th",[t._v("Owner")]),a("th",[t._v("State")]),t.user.Name.includes(":inward")?a("th",[t._v("GRN")]):t._e(),a("th",[t._v("Vehicle Number")]),a("th",[t._v("Type Of Material")]),a("th",[t._v("Number Of Sacks")]),a("th",[t._v("Weight")]),a("th",[t._v("Comment")])])]),a("tbody",t._l(t.schemaList,(function(e){return a("tr",{key:e},[a("th",[t._v("\n                "+t._s(e.procurementId)+"\n            ")]),a("td",[a("a",{attrs:{href:""+t.$config.nodeServer.BASE_URL+t.$config.nodeServer.DID_RESOLVE_EP+"/"+e.id,target:"_blank"}},[t._v(t._s(e.id))])]),a("td",{staticStyle:{"word-wrap":"break-word","min-width":"200px","max-width":"200px"}},[t._v(t._s(e.state))]),t.user.Name.includes(":inward")?a("td",{staticStyle:{"word-wrap":"break-word","min-width":"200px","max-width":"200px"}},[t._v(t._s(e.grn_number))]):t._e(),a("td",[t._v(t._s(e.vehicleNumber))]),a("td",[t._v(t._s(e.typeOfMaterial))]),a("td",[t._v(t._s(e.numperOfSacks))]),a("td",[t._v(t._s(e.weight))]),a("td",[t._v(t._s(e.comment))])])})),0)])])])],1)},Qt=[],Xt=(a("28a5"),void 0),Yt={name:"IssueCredential",components:{QrcodeVue:m["a"],Info:Y},data:function(){var t;return t={description:"Credential Schema defines what information will go inside a verifiable credential. For example: Directorate General of Civil Aviation (DGCA) can define a schema (or format) for flights tickets, being issued by all airline companies in India.",active:0,selectOptions:[{value:0,text:"Accepted"}],host:location.hostname,user:{},prevRoute:null,attributeName:"",attributes:[],issueCredAttributes:[],showSchema:!0,radioSelected:"create",procurmentId:"",grn_number:"",vehiclNumber:"",typOfMaterial:"",numprOfSacks:"",weights:"",comments:"",isCredentialIssued:!1,signedVerifiableCredential:"",credentials:JSON.parse(localStorage.getItem("credentials")),subjectDid:"did:hs:AmitKumar",radioOptions:[{text:"Create new schema",value:"create"},{text:"Select existing schema",value:"existing"}],selected:null,state:null,attributeValues:{},authToken:localStorage.getItem("authToken")},Object(T["a"])(t,"selectOptions",[{value:null,text:"Please select a schema"},{value:1,text:"Accept"},{value:0,text:"Reject"}]),Object(T["a"])(t,"schemaMap",{}),Object(T["a"])(t,"schemaList",[]),Object(T["a"])(t,"credentialDescription",""),Object(T["a"])(t,"fullPage",!0),Object(T["a"])(t,"isLoading",!1),t},created:function(){var t=localStorage.getItem("user");this.user=JSON.parse(t),this.fetchProcurment()},beforeRouteEnter:function(t,e,a){a((function(t){t.prevRoute=e}))},methods:{notifySuccess:function(t){this.$notify({group:"foo",title:"Information",type:"success",text:t})},notifyErr:function(t){this.$notify({group:"foo",title:"Error",type:"error",text:t})},fetchProcurment:function(){var t=this,e="".concat(this.$config.studioServer.BASE_URL).concat(this.$config.studioServer.PROCURMENT_LIST);$()(e).then((function(t){return t.json()})).then((function(e){console.log(e),t.schemaList=e,t.schemaList&&t.schemaList.length>0&&(t.schemaList=t.schemaList.filter((function(t){var e=t.owner.split("#");return t.id=e[1],t})))})).catch((function(e){return t.notifyErr("Error: ".concat(e.message))}))},fetchData:function(t,e){var a=this;$()(t).then((function(t){return t.json()})).then((function(t){if(200!=t.status)throw new Error(t.error);return t.message})).catch((function(t){return a.notifyErr("Error: ".concat(t.message))}))},gotosubpage:function(t){Xt.$router.push("".concat(t))},addBlankAttrBox:function(){" "!=this.attributeName&&(this.attributes.push(this.attributeName),this.attributeName=" ")},onSchemaOptionChange:function(t){this.attributes=[],this.issueCredAttributes=[],this.selected=null,this.credentialName=""},OnSchemaSelectDropDownChange:function(t){this.state=t&&1==t?"ACCEPTED":"REJECTED"},forceFileDownload:function(t,e){var a=window.URL.createObjectURL(new Blob([t])),i=document.createElement("a");i.href=a,i.setAttribute("download",e),document.body.appendChild(i),i.click()},downloadCredentials:function(){this.forceFileDownload(JSON.stringify(this.signedVerifiableCredential),"vc.json")},createProcurment:function(){var t=this;if(this.isLoading=!0,""==this.vehiclNumber)return this.notifyErr("Error: Vehicle Number can not be blank");if(""==this.typOfMaterial)return this.notifyErr("Error: typeOfMaterial can not be blank");if(""==this.numprOfSacks)return this.notifyErr("Error: Number Of Sacks can not be blank");if(""==this.weights)return this.notifyErr("Error: weight can not be blank");var e="".concat(this.$config.studioServer.BASE_URL).concat(this.$config.studioServer.PROCURMENT_LIST),a={vehicleNumber:this.vehiclNumber,typeOfMaterial:this.typOfMaterial,numperOfSacks:this.numprOfSacks,weight:this.weights,aggregator:this.user.id},i={"Content-Type":"application/json"};$()(e,{method:"POST",body:JSON.stringify(a),headers:i}).then((function(t){return t.json()})).then((function(e){t.notifySuccess("Procurment successfull created"),t.fetchProcurment(),t.clear(),t.isLoading=!1})).catch((function(e){t.isLoading=!1,console.log(e)}))},clear:function(){this.vehiclNumber="",this.typOfMaterial="",this.numprOfSacks="",this.weights="",this.grn_number="",this.comments="",this.procurmentId=""},acceptProcurment:function(){var t=this;if(this.isLoading=!0,""==this.procurmentId)return this.notifyErr("Error: procurmentId can not be blank");if(""==this.grn_number)return this.notifyErr("Error: grn_number can not be blank");var e="".concat(this.$config.studioServer.BASE_URL).concat(this.$config.studioServer.ACCEPT_PROCURMENT),a={procurementId:this.procurmentId.trim(),inward:this.user.id,grn_number:this.grn_number,state:this.state,comments:this.comments},i={"Content-Type":"application/json"};$()(e,{method:"POST",body:JSON.stringify(a),headers:i}).then((function(t){return t.json()})).then((function(e){t.notifySuccess("Inward successfull accepted"),t.clear(),t.fetchProcurment(),t.isLoading=!1})).catch((function(e){t.isLoading=!1,console.log(e)}))}}},Zt=Yt,te=(a("a2a2"),Object(c["a"])(Zt,qt,Qt,!1,null,"781dc37e",null)),ee=te.exports;i["default"].use(d["a"]);var ae=new d["a"]({mode:"history",routes:[{path:"/login",redirect:"/studio/login"},{path:"/studio",redirect:"/studio/login"},{path:"/studio/login",name:"PKIIdLogin",component:A},{path:"/studio/dashboard",name:"dashboard",component:Vt,meta:{requiresAuth:!0}},{path:"/studio/register",name:"register",component:J},{path:"/studio/schema",name:"schema",component:Wt,meta:{requiresAuth:!0}},{path:"/studio/procurment",name:"procurment",component:ee,meta:{requiresAuth:!0}},{path:"/studio/credential",name:"credential",component:st,meta:{requiresAuth:!0}},{path:"/studio/presentation",name:"presentation",component:mt,meta:{requiresAuth:!0}}]});ae.beforeEach((function(t,e,a){if(t.matched.some((function(t){return t.meta.requiresAuth}))){var i=localStorage.getItem("authToken");if(i){var n="".concat(C.studioServer.BASE_URL,"protected");console.log(n),console.log("..............."),$()(n,{headers:{Authorization:"Bearer ".concat(i)},method:"POST"}).then((function(t){return t.json()})).then((function(e){console.log("..............."),console.log(e.message),403==e.status?a({path:"/studio/login",params:{nextUrl:t.fullPath}}):(console.log(e.message),localStorage.setItem("user",JSON.stringify(e.message)),a())})).catch((function(e){a({path:"/studio/login",params:{nextUrl:t.fullPath}})}))}else a({path:"/studio/login",params:{nextUrl:t.fullPath}})}else a()}));var ie=ae,ne=a("5f5b"),re=a("ee98"),se=a.n(re);a("f9e3"),a("2dd8");i["default"].config.productionTip=!1,i["default"].use(ne["a"]),i["default"].use(se.a),i["default"].prototype.$config=C,new i["default"]({router:ie,render:function(t){return t(u)}}).$mount("#app")},"58ab":function(t,e,a){"use strict";var i=a("8255"),n=a.n(i);n.a},6:function(t,e){},6109:function(t,e,a){},7:function(t,e){},7899:function(t,e,a){"use strict";var i=a("4c49"),n=a.n(i);n.a},"78d7":function(t,e,a){},8:function(t,e){},8255:function(t,e,a){},9:function(t,e,a){t.exports=a("56d7")},9794:function(t,e,a){},a2a2:function(t,e,a){"use strict";var i=a("cca7"),n=a.n(i);n.a},ae51:function(t,e,a){"use strict";var i=a("78d7"),n=a.n(i);n.a},b0a0:function(t,e,a){"use strict";var i=a("07bb"),n=a.n(i);n.a},c338:function(t,e,a){"use strict";var i=a("4c8f"),n=a.n(i);n.a},cca7:function(t,e,a){},d386:function(t,e,a){},d3f6:function(t,e,a){"use strict";var i=a("9794"),n=a.n(i);n.a},e2c9:function(t,e,a){var i=a("69f2"),n=a("7247");n.ModeOfOperation.ctr;function r(t){return i("sha256").update(t).digest()}function s(t){return n.utils.hex.fromBytes(r(t))}t.exports={sha256hashStr:s}},f1b8:function(t,e,a){}});
//# sourceMappingURL=app.2b55a5ac.js.map